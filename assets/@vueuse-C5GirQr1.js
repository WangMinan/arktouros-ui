import{u as U,b as J,n as _,r as L,e as x,w as I,i as X,g as Y,f as Z,h as z,t as ee,j as te,s as ne,k as E,l as re}from"./@vue-BN9FX5Kd.js";function G(e){return Y()?(Z(e),!0):!1}function N(e){return typeof e=="function"?e():U(e)}const oe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ie=e=>ae.call(e)==="[object Object]",P=()=>{};function se(e,t){function n(...a){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(i)})}return n}const W=e=>e();function ue(e=W){const t=L(!0);function n(){t.value=!1}function a(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:x(t),pause:n,resume:a,eventFilter:r}}function le(e){return z()}function ce(...e){if(e.length!==1)return ee(...e);const t=e[0];return typeof t=="function"?x(te(()=>({get:t,set:P}))):L(t)}function fe(e,t,n={}){const{eventFilter:a=W,...r}=n;return I(e,se(a,t),r)}function de(e,t,n={}){const{eventFilter:a,...r}=n,{eventFilter:i,pause:s,resume:u,isActive:l}=ue(a);return{stop:fe(e,t,{...r,eventFilter:i}),pause:s,resume:u,isActive:l}}function q(e,t=!0,n){le()?J(e,n):t?e():_(e)}function ve(e=!1,t={}){const{truthyValue:n=!0,falsyValue:a=!1}=t,r=X(e),i=L(e);function s(u){if(arguments.length)return i.value=u,i.value;{const l=N(n);return i.value=i.value===l?N(a):l,i.value}}return r?s:[i,s]}function B(e){var t;const n=N(e);return(t=n==null?void 0:n.$el)!=null?t:n}const O=oe?window:void 0;function H(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=O):[t,n,a,r]=e,!t)return P;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const i=[],s=()=>{i.forEach(v=>v()),i.length=0},u=(v,c,b,p)=>(v.addEventListener(c,b,p),()=>v.removeEventListener(c,b,p)),l=I(()=>[B(t),N(r)],([v,c])=>{if(s(),!v)return;const b=ie(c)?{...c}:c;i.push(...n.flatMap(p=>a.map(h=>u(v,p,h,b))))},{immediate:!0,flush:"post"}),m=()=>{l(),s()};return G(m),m}function ge(){const e=L(!1),t=z();return t&&J(()=>{e.value=!0},t),e}function pe(e){const t=ge();return E(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=O}=t,a=pe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=L(!1),s=m=>{i.value=m.matches},u=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",s):r.removeListener(s))},l=re(()=>{a.value&&(u(),r=n.matchMedia(N(e)),"addEventListener"in r?r.addEventListener("change",s):r.addListener(s),i.value=r.matches)});return G(()=>{l(),u(),r=void 0}),i}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",he=ye();function ye(){return V in F||(F[V]=F[V]||{}),F[V]}function K(e,t){return he[e]||t}function we(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const be={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},R="vueuse-storage";function $(e,t,n,a={}){var r;const{flush:i="pre",deep:s=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,mergeDefaults:m=!1,shallow:v,window:c=O,eventFilter:b,onError:p=o=>{console.error(o)},initOnMounted:h}=a,g=(v?ne:L)(typeof t=="function"?t():t);if(!n)try{n=K("getDefaultStorage",()=>{var o;return(o=O)==null?void 0:o.localStorage})()}catch(o){p(o)}if(!n)return g;const w=N(t),j=we(w),S=(r=a.serializer)!=null?r:be[j],{pause:T,resume:d}=de(g,()=>M(g.value),{flush:i,deep:s,eventFilter:b});c&&u&&q(()=>{H(c,"storage",y),H(c,R,D),h&&y()}),h||y();function A(o,f){c&&c.dispatchEvent(new CustomEvent(R,{detail:{key:e,oldValue:o,newValue:f,storageArea:n}}))}function M(o){try{const f=n.getItem(e);if(o==null)A(f,null),n.removeItem(e);else{const k=S.write(o);f!==k&&(n.setItem(e,k),A(f,k))}}catch(f){p(f)}}function C(o){const f=o?o.newValue:n.getItem(e);if(f==null)return l&&w!=null&&n.setItem(e,S.write(w)),w;if(!o&&m){const k=S.read(f);return typeof m=="function"?m(k,w):j==="object"&&!Array.isArray(k)?{...w,...k}:k}else return typeof f!="string"?f:S.read(f)}function y(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){g.value=w;return}if(!(o&&o.key!==e)){T();try{(o==null?void 0:o.newValue)!==S.write(g.value)&&(g.value=C(o))}catch(f){p(f)}finally{o?_(d):d()}}}}function D(o){y(o.detail)}return g}function Q(e){return me("(prefers-color-scheme: dark)",e)}function Se(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:r=O,storage:i,storageKey:s="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:l,emitAuto:m,disableTransition:v=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},b=Q({window:r}),p=E(()=>b.value?"dark":"light"),h=l||(s==null?ce(a):$(s,a,i,{window:r,listenToStorageChanges:u})),g=E(()=>h.value==="auto"?p.value:h.value),w=K("updateHTMLAttrs",(d,A,M)=>{const C=typeof d=="string"?r==null?void 0:r.document.querySelector(d):B(d);if(!C)return;let y;if(v&&(y=r.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(y)),A==="class"){const D=M.split(/\s/g);Object.values(c).flatMap(o=>(o||"").split(/\s/g)).filter(Boolean).forEach(o=>{D.includes(o)?C.classList.add(o):C.classList.remove(o)})}else C.setAttribute(A,M);v&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function j(d){var A;w(t,n,(A=c[d])!=null?A:d)}function S(d){e.onChanged?e.onChanged(d,j):j(d)}I(g,S,{flush:"post",immediate:!0}),q(()=>S(g.value));const T=E({get(){return m?h.value:g.value},set(d){h.value=d}});try{return Object.assign(T,{store:h,system:p,state:g})}catch{return T}}function Ae(e={}){const{valueDark:t="dark",valueLight:n="",window:a=O}=e,r=Se({...e,onChanged:(s,u)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,s==="dark",u,s):u(s)},modes:{dark:t,light:n}}),i=E(()=>r.system?r.system.value:Q({window:a}).value?"dark":"light");return E({get(){return r.value==="dark"},set(s){const u=s?"dark":"light";i.value===u?r.value="auto":r.value=u}})}export{ve as a,$ as b,Ae as u};
